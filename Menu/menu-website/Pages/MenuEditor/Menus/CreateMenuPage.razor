@page "/menueditor/menus/create"
@using Gamer.Menu.Website.Models
@using Gamer.Menu.Application.Commands
@using MediatR
@inject NavigationManager UriHelper

<EditForm Model="Model" OnValidSubmit="CreateMenu">
    <InputText @bind-Value="Model.Name" placeholder="Menu Name" />
    <button class="btn btn-primary">Save</button>
</EditForm>

@code {
    [Inject]
    public IMediator Mediator { get; set; }

    public Menu Model { get; set; } = new Menu();

    public async Task CreateMenu()
    {
        await Mediator.Send(new CreateMenu() { Name = Model.Name });
        UriHelper.NavigateTo("/menueditor/menus");
    }
}